<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kokito Star - Tatuajes al Por Mayor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: url('motivos/FONDO.png') center center;
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
            padding: 20px;
            padding-top: 100px;
            color: white;
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.95);
            padding: 15px 20px;
            z-index: 1000;
            border-bottom: 2px solid #E50695;
        }

        .progress-container {
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 20px;
        }

        .progress-step {
            display: flex;
            align-items: center;
            position: relative;
        }

        .progress-step:not(:last-child) {
            margin-right: 20px;
        }

        .step-circle {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #666;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.5s ease;
            position: relative;
            z-index: 2;
        }

        .step-circle.active {
            background: #E50695;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(229, 6, 149, 0.5);
        }

        .step-circle.completed {
            background: #28a745;
            animation: checkBounce 0.6s ease;
        }

        .step-circle.completed::after {
            content: '‚úì';
            font-size: 16px;
            animation: checkAppear 0.4s ease 0.2s both;
        }

        .step-line {
            flex: 1;
            height: 3px;
            background: #666;
            margin: 0 10px;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .step-line.active::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, #E50695, #ff69b4);
            animation: lineProgress 0.8s ease;
        }

        .step-label {
            position: absolute;
            top: 35px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 11px;
            white-space: nowrap;
            color: #ccc;
            transition: color 0.3s ease;
        }

        .step-circle.active + .step-label,
        .step-circle.completed + .step-label {
            color: #E50695;
            font-weight: bold;
        }

        @keyframes checkBounce {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1.1); }
        }

        @keyframes checkAppear {
            0% { opacity: 0; transform: scale(0); }
            100% { opacity: 1; transform: scale(1); }
        }

        @keyframes lineProgress {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        @keyframes countUp {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); color: #E50695; }
            100% { transform: scale(1); }
        }

        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInRight {
            0% { opacity: 0; transform: translateX(50px); }
            100% { opacity: 1; transform: translateX(0); }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease both;
        }

        .slide-in {
            animation: slideInRight 0.5s ease both;
        }

        .order-summary {
            background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid #E50695;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(229, 6, 149, 0.2);
        }

        .summary-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .summary-label {
            font-family: Arial, sans-serif;
            color: white;
        }

        .summary-value {
            font-family: 'Arial Black', Arial, sans-serif;
            color: #E50695;
            font-weight: bold;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(229, 6, 149, 0.3);
            overflow: hidden;
            border: 2px solid #E50695;
        }

        .logo-section {
            background: #000000;
            padding: 60px 20px;
            text-align: center;
            border-bottom: 3px solid #E50695;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-container {
            width: 100%;
            max-width: 600px;
        }

        .logo-image {
            width: 100%;
            height: auto;
            max-height: 180px;
            object-fit: contain;
            border-radius: 10px;
        }

        .header {
            background: linear-gradient(135deg, #E50695, #ff69b4);
            padding: 30px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 1.8em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
            color: white;
        }

        .wholesale-info {
            background: linear-gradient(135deg, #E50695, #ff69b4);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
            border: 2px solid #E50695;
            color: white;
        }

        .wholesale-info h3 {
            font-size: 1.6em;
            margin-bottom: 15px;
        }

        .price-tier {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 10px;
            margin: 8px 0;
            font-size: 0.95em;
            font-weight: bold;
        }

        .instructions {
            background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            border: 2px solid #E50695;
        }

        .instructions h3 {
            color: #E50695;
            font-size: 1em;
            margin-bottom: 10px;
            text-align: center;
        }

        .step {
            display: flex;
            align-items: center;
            margin-bottom: 6px;
            padding: 5px;
            background: rgba(229, 6, 149, 0.1);
            border-radius: 5px;
        }

        .step-number {
            background: #E50695;
            color: white;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.7em;
            margin-right: 8px;
            flex-shrink: 0;
        }

        .step-text {
            flex: 1;
            font-size: 0.8em;
            line-height: 1.2;
        }

        .counters {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #E50695, #ff69b4);
            border-radius: 15px;
            color: white;
        }

        .counter {
            text-align: center;
        }

        .counter-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
            transition: all 0.3s ease;
        }

        .counter-number.animate {
            animation: countUp 0.5s ease, glow 0.8s ease;
        }

        @keyframes glow {
            0% { text-shadow: 0 0 5px rgba(229, 6, 149, 0.5); }
            50% { text-shadow: 0 0 20px rgba(229, 6, 149, 0.8), 0 0 30px rgba(229, 6, 149, 0.6); }
            100% { text-shadow: 0 0 5px rgba(229, 6, 149, 0.5); }
        }

        .counter-label {
            font-size: 1.1em;
            margin-top: 5px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-family: 'Arial Black', Arial, sans-serif;
            font-weight: 900;
            font-size: 1.8em;
            color: white;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #E50695;
        }

        /* GRID DE MOTIVOS ACTUALIZADO - 3 COLUMNAS */
        .motivos-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 30px;
            padding: 0 5px;
        }

        .motivo-item {
            background: linear-gradient(145deg, rgba(229, 6, 149, 0.1), rgba(255, 105, 180, 0.05));
            backdrop-filter: blur(10px);
            border: 2px solid rgba(229, 6, 149, 0.3);
            border-radius: 20px;
            padding: 15px;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 12px;
            min-height: auto;
            width: 100%;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .motivo-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .motivo-item:hover::before {
            left: 100%;
        }

        .motivo-item:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: #E50695;
            background: linear-gradient(145deg, rgba(229, 6, 149, 0.2), rgba(255, 105, 180, 0.1));
            box-shadow: 
                0 15px 35px rgba(229, 6, 149, 0.3),
                0 0 0 1px rgba(229, 6, 149, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .motivo-item.selected {
            border-color: #E50695;
            background: linear-gradient(145deg, rgba(229, 6, 149, 0.25), rgba(255, 105, 180, 0.15));
            box-shadow: 
                0 8px 25px rgba(229, 6, 149, 0.4),
                0 0 0 2px rgba(229, 6, 149, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transform: translateY(-4px);
            animation: float 2s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(-4px); }
            50% { transform: translateY(-8px); }
        }

        .motivo-item.disabled {
            opacity: 0.4;
            pointer-events: none;
            filter: grayscale(100%);
        }

        .motivo-image-container {
            background: #ffffff;
            border-radius: 50%;
            padding: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 120px;
            min-height: 120px;
            flex-shrink: 0;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .motivo-image-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #E50695, #ff69b4, #ff1493, #E50695);
            border-radius: 50%;
            z-index: -1;
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .motivo-image-container:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 
                0 0 30px rgba(229, 6, 149, 0.6),
                0 0 50px rgba(229, 6, 149, 0.3),
                0 8px 25px rgba(0,0,0,0.15);
            animation-play-state: paused;
        }

        .motivo-image {
            width: 100px;
            height: 100px;
            object-fit: contain;
            pointer-events: none;
            transition: all 0.3s ease;
            filter: drop-shadow(0 2px 8px rgba(0,0,0,0.2));
            z-index: 2;
            position: relative;
        }

        /* M√ÅSCARA BLANCA PARA HOVER - NO PARA ELEMENTOS SELECCIONADOS */
        .motivo-image-container:hover:not(.touching) .motivo-image:not(.selected) {
            transform: scale(1.1);
            filter: 
                brightness(0) 
                invert(1) 
                drop-shadow(0 4px 12px rgba(0,0,0,0.3));
        }

        /* Estado normal para elementos seleccionados - SIN m√°scara */
        .motivo-item.selected .motivo-image {
            filter: drop-shadow(0 2px 8px rgba(0,0,0,0.2)) brightness(1.05);
        }

        .motivo-item.selected .motivo-image-container:hover .motivo-image {
            transform: scale(1.1);
            filter: drop-shadow(0 4px 12px rgba(0,0,0,0.3)) brightness(1.1);
        }

        /* Efectos especiales para touch en m√≥viles */
        @media (hover: none) and (pointer: coarse) {
            .motivo-image-container:active {
                transform: scale(1.05);
                transition: all 0.1s ease;
            }
            
            /* M√°scara blanca temporal para touch SOLO si no est√° seleccionado */
            .motivo-image-container:active:not(.selected-touch) .motivo-image:not(.selected) {
                transform: scale(1.05);
                filter: 
                    brightness(0) 
                    invert(1) 
                    drop-shadow(0 2px 8px rgba(0,0,0,0.2));
                transition: all 0.1s ease;
            }
            
            /* Touch en elementos seleccionados - SIN m√°scara */
            .motivo-item.selected .motivo-image-container:active .motivo-image {
                transform: scale(1.05);
                filter: drop-shadow(0 2px 8px rgba(0,0,0,0.2)) brightness(1.1);
                transition: all 0.1s ease;
            }
        }

        .motivo-content {
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 100%;
            align-items: center;
        }

        .motivo-name {
            font-family: Arial, sans-serif;
            font-weight: normal;
            color: white;
            font-size: 1em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            text-align: center;
            overflow-wrap: break-word;
            line-height: 1.2;
            margin-bottom: 4px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            position: relative;
        }

        .btn-quantity {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(10px);
            color: #E50695;
            border: 2px solid rgba(229, 6, 149, 0.3);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
        }

        .btn-quantity::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(229, 6, 149, 0.2), transparent);
            border-radius: 50%;
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
        }

        .btn-quantity:hover::before {
            width: 100%;
            height: 100%;
        }

        .btn-quantity:hover {
            background: linear-gradient(145deg, #E50695, #ff69b4);
            color: white;
            transform: scale(1.1);
            border-color: #E50695;
            box-shadow: 
                0 0 20px rgba(229, 6, 149, 0.5),
                0 4px 15px rgba(229, 6, 149, 0.3);
        }

        .btn-quantity:active {
            transform: scale(0.95);
        }

        .btn-quantity:disabled {
            background: rgba(102, 102, 102, 0.3);
            color: #666;
            border-color: rgba(102, 102, 102, 0.3);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .quantity-input {
            background: linear-gradient(145deg, rgba(229, 6, 149, 0.2), rgba(255, 105, 180, 0.1));
            backdrop-filter: blur(10px);
            color: white;
            border: 2px solid rgba(229, 6, 149, 0.4);
            border-radius: 12px;
            width: 50px;
            height: 36px;
            font-size: 1em;
            font-weight: bold;
            font-family: 'Arial Black', Arial, sans-serif;
            text-align: center;
            padding: 0;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .quantity-input:focus {
            outline: none;
            border-color: #E50695;
            box-shadow: 
                0 0 15px rgba(229, 6, 149, 0.6),
                inset 0 2px 4px rgba(0,0,0,0.2);
            background: linear-gradient(145deg, #E50695, #ff69b4);
        }

        .quantity-input.animate {
            animation: pulse 0.4s ease;
            background: linear-gradient(145deg, #E50695, #ff69b4);
            border-color: #E50695;
            box-shadow: 
                0 0 15px rgba(229, 6, 149, 0.6),
                inset 0 2px 4px rgba(0,0,0,0.2);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }

        .quantity-input::-webkit-outer-spin-button,
        .quantity-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .quantity-input[type=number] {
            -moz-appearance: textfield;
        }

        .colores-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .color-item {
            background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
            border: 2px solid #E50695;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            color: white;
        }

        .color-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(229, 6, 149, 0.3);
        }

        .color-item.selected {
            border-color: #E50695;
            background: linear-gradient(135deg, #E50695, #ff69b4);
            color: white;
            transform: translateY(-2px);
        }

        .all-colors-btn {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: 2px solid #ff6b35;
            color: white;
            font-weight: bold;
            grid-column: 1 / -1;
        }

        .all-colors-btn:hover {
            background: linear-gradient(135deg, #f7931e, #ff6b35);
            border-color: #f7931e;
        }

        .all-colors-btn.selected {
            background: linear-gradient(135deg, #E50695, #ff69b4);
            border-color: #E50695;
        }

        .color-emoji {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .shipping-form {
            background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid #E50695;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-family: Arial, sans-serif;
            font-weight: normal;
            margin-bottom: 8px;
            color: white;
            font-size: 1.1em;
        }

        .form-input {
            padding: 12px;
            border: 2px solid #E50695;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: #000;
            color: white;
        }

        .form-input:focus {
            outline: none;
            border-color: #E50695;
            box-shadow: 0 0 0 3px rgba(229, 6, 149, 0.1);
        }

        .pricing-summary {
            background: linear-gradient(135deg, #2a2a2a, #3a3a3a);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid #E50695;
        }

        .pricing-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(229, 6, 149, 0.2);
        }

        .pricing-row:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 1.2em;
            color: #E50695;
        }

        .pricing-label {
            color: white;
        }

        .pricing-value {
            color: #E50695;
            font-weight: bold;
        }

        .payment-section {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 20px;
            align-items: center;
            background: linear-gradient(135deg, #E50695, #ff69b4);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid #E50695;
        }

        .payment-info h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .payment-details {
            font-family: Arial, sans-serif;
            font-weight: normal;
            font-size: 1.2em;
            line-height: 1.6;
        }

        .qr-container {
            width: 200px;
            height: 200px;
            border: 3px solid white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            flex-shrink: 0;
            overflow: hidden;
        }

        .qr-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #25d366, #20ba5e);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.3em;
            border-radius: 50px;
            cursor: pointer;
            display: block;
            margin: 30px auto 0;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .alert {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
        }

        .alert-warning {
            background: #ff8c00;
            border: 1px solid #ff7f00;
            color: white;
        }

        .alert-danger {
            background: #dc3545;
            border: 1px solid #c82333;
            color: white;
        }

        .alert-success {
            background: #28a745;
            border: 1px solid #1e7e34;
            color: white;
        }

        .minimum-notice {
            background: linear-gradient(135deg, #ff8c00, #ff6b35);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            color: white;
            font-weight: bold;
            font-size: 1.1em;
        }

        .price-indicator {
            background: linear-gradient(135deg, #28a745, #20c997);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            color: white;
            font-weight: bold;
            font-size: 1.2em;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        /* MEDIA QUERIES ACTUALIZADAS */
        @media (max-width: 768px) {
            .counters {
                flex-direction: column;
                gap: 15px;
            }
            
            /* Mantener 3 columnas pero ajustar espaciado en tablets */
            .motivos-grid {
                gap: 10px;
            }
            
            .colores-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .form-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .payment-section {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .qr-container {
                margin: 0 auto;
            }
        }

        /* MEDIA QUERY PRINCIPAL PARA M√ìVILES - MANTENER 3 COLUMNAS */
        @media (max-width: 600px) {
            /* AJUSTAR ESPACIADO EN M√ìVILES PARA 3 COLUMNAS */
            .motivos-grid {
                gap: 6px;
                padding: 0;
            }

            /* AJUSTAR TAMA√ëOS PARA M√ìVILES */
            .motivo-item {
                padding: 8px;
                gap: 6px;
                border-radius: 15px;
            }

            /* IM√ÅGENES AJUSTADAS PARA M√ìVILES */
            .motivo-image-container {
                min-width: 70px;
                min-height: 70px;
                padding: 6px;
            }

            .motivo-image {
                width: 60px;
                height: 60px;
            }

            .motivo-name {
                font-size: 0.85em;
            }

            /* CONTROLES DE CANTIDAD M√ÅS COMPACTOS */
            .quantity-controls {
                gap: 6px;
            }

            .btn-quantity {
                width: 30px;
                height: 30px;
                font-size: 16px;
            }

            .quantity-input {
                width: 38px;
                height: 30px;
                font-size: 0.9em;
                border-radius: 8px;
            }

            /* AJUSTES ADICIONALES PARA PANTALLAS MUY PEQUE√ëAS */
            .section-title {
                font-size: 1.4em;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .header p {
                font-size: 1em;
            }

            .content {
                padding: 20px;
            }

            .counters {
                padding: 15px;
            }

            .counter-number {
                font-size: 2em;
            }

            .counter-label {
                font-size: 0.9em;
            }
        }

        /* GLOBO FLOTANTE RESUMEN EJECUTIVO - COMPACTO */
        .floating-profit-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #28a745, #20c997);
            border-radius: 15px;
            padding: 12px;
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
            color: white;
            min-width: 200px;
            max-width: 220px;
            z-index: 999;
            transition: all 0.3s ease;
            transform: translateY(100px);
            opacity: 0;
            pointer-events: none;
            border: 2px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .floating-profit-widget.show {
            transform: translateY(0);
            opacity: 1;
            pointer-events: all;
        }

        .floating-profit-widget:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.5);
        }

        .profit-widget-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 6px;
        }

        .profit-widget-title {
            font-size: 0.9em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .profit-widget-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .profit-widget-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .profit-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 4px;
            font-size: 0.8em;
        }

        .profit-row.highlight {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            padding: 4px 6px;
            margin: 4px -6px;
            font-weight: bold;
            font-size: 0.85em;
        }

        .profit-value {
            font-weight: bold;
            font-family: 'Arial Black', Arial, sans-serif;
        }

        .profit-value.big {
            font-size: 1.1em;
            color: #FFD700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .profit-suggestions {
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            font-size: 0.75em;
            opacity: 0.9;
        }

        .profit-tip {
            background: rgba(255, 255, 255, 0.1);
            padding: 4px 6px;
            border-radius: 4px;
            margin-top: 4px;
            font-style: italic;
        }

        /* ANIMACIONES COMPACTAS */
        @keyframes profitPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }

        .profit-value.animate {
            animation: profitPulse 0.4s ease;
        }

        @keyframes profitGlow {
            0% { box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4); }
            50% { box-shadow: 0 8px 25px rgba(40, 167, 69, 0.7), 0 0 15px rgba(255, 215, 0, 0.3); }
            100% { box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4); }
        }

        .floating-profit-widget.profit-updated {
            animation: profitGlow 1s ease;
        }

        /* RESPONSIVE COMPACTO */
        @media (max-width: 768px) {
            .floating-profit-widget {
                bottom: 80px;
                right: 10px;
                min-width: 180px;
                max-width: 200px;
            }
        }

        @media (max-width: 480px) {
            .floating-profit-widget {
                bottom: 70px;
                right: 10px;
                left: auto;
                min-width: 160px;
                max-width: 180px;
                padding: 10px;
            }
            
            .profit-widget-title {
                font-size: 0.8em;
            }
            
            .profit-row {
                font-size: 0.75em;
            }
            
            .profit-suggestions {
                font-size: 0.7em;
            }
        }

        /* MEDIA QUERY PARA PANTALLAS MUY PEQUE√ëAS */
        @media (max-width: 400px) {
            .motivo-image-container {
                min-width: 60px;
                min-height: 60px;
                padding: 4px;
            }

            .motivo-image {
                width: 50px;
                height: 50px;
            }

            .motivo-name {
                font-size: 0.75em;
            }

            .btn-quantity {
                width: 26px;
                height: 26px;
                font-size: 14px;
            }

            .quantity-input {
                width: 32px;
                height: 26px;
                font-size: 0.8em;
                border-radius: 6px;
            }

            .quantity-controls {
                gap: 4px;
            }
        }
    </style>
    
    <!-- Meta tags para vista previa -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://kitkokito.github.io/kokitostar/" />
    <meta property="og:title" content="Kokito Star - Tatuajes al Por Mayor" />
    <meta property="og:description" content="Tatuajes temporales con glitter al por mayor. Desde $3.400 por unidad. Env√≠os a toda Colombia." />
    <meta property="og:image" content="https://kitkokito.github.io/kokitostar/preview-image.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://kitkokito.github.io/kokitostar/" />
    <meta name="twitter:title" content="Kokito Star - Tatuajes al Por Mayor" />
    <meta name="twitter:description" content="Tatuajes temporales con glitter al por mayor. Desde $3.400 por unidad. Env√≠os a toda Colombia." />
    <meta name="twitter:image" content="https://kitkokito.github.io/kokitostar/preview-image.jpg" />
</head>
<body>
    <div class="progress-bar">
        <div class="progress-container">
            <div class="progress-step">
                <div class="step-circle active" id="step1">1</div>
                <div class="step-label">Motivos</div>
                <div class="step-line" id="line1"></div>
            </div>
            <div class="progress-step">
                <div class="step-circle" id="step2">2</div>
                <div class="step-label">Colores</div>
                <div class="step-line" id="line2"></div>
            </div>
            <div class="progress-step">
                <div class="step-circle" id="step3">3</div>
                <div class="step-label">Datos</div>
                <div class="step-line" id="line3"></div>
            </div>
            <div class="progress-step">
                <div class="step-circle" id="step4">4</div>
                <div class="step-label">Listo</div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="logo-section">
            <div class="logo-container">
                <img id="logoImage" src="motivos/LOGO_KOKITO.png" alt="Kokito Star Logo" class="logo-image">
            </div>
        </div>

        <div class="header">
            <h1>‚ú® TATUAJES AL POR MAYOR ‚ú®</h1>
            <p>Tatuajes temporales con glitter para tu negocio</p>
        </div>

        <div class="content">
            <div class="wholesale-info">
                <div class="price-tier">
                    üîπ 100 a 200 unidades: $3.400 c/u
                </div>
                <div class="price-tier">
                    üîπ M√°s de 201 unidades: $3.000 c/u
                </div>
                <p style="margin-top: 10px; font-size: 0.8em; opacity: 0.9;">
                    üì¶ Hacemos env√≠os a toda Colombia üööüá®üá¥<br>
                    üé® Hasta 200: 3 pegas + 12 glitter por cada 100<br>
                    ‚ú® M√°s de 200: +1 pega + 6 glitter por cada 33 adicionales
                </p>
            </div>

            <div class="instructions">
                <h3>üìã ¬øC√≥mo funciona? - Paso a paso</h3>

                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-text">
                        <strong>Selecciona motivos:</strong> Elige dise√±os y cantidades. M√≠nimo 100 tatuajes.
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-text">
                        <strong>Escoge colores:</strong> Selecciona glitter o "Todos los colores".
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-text">
                        <strong>Completa datos:</strong> Llena informaci√≥n comercial y env√≠o.
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-text">
                        <strong>Confirma pedido:</strong> Revisa cotizaci√≥n y confirma por WhatsApp.
                    </div>
                </div>
            </div>

            <div id="alerts"></div>

            <div class="section">
                <h2 class="section-title">üé® Selecciona tus Motivos <span style="font-family: Arial, sans-serif; font-weight: normal;">(m√≠nimo 100 unidades)</span></h2>
                <div class="motivos-grid" id="motivosGrid"></div>
            </div>

            <div class="section">
                <h2 class="section-title">üåà Selecciona Colores de Glitter</h2>
                <div class="colores-grid" id="coloresGrid"></div>
            </div>

            <!-- RESUMEN MOVIDO AQU√ç -->
            <div class="counters">
                <div class="counter">
                    <span class="counter-number" id="totalTatuajes">0</span>
                    <span class="counter-label">Tatuajes seleccionados</span>
                </div>
                <div class="counter">
                    <span class="counter-number" id="pegasIncluidas">0</span>
                    <span class="counter-label">Pegas incluidas</span>
                </div>
                <div class="counter">
                    <span class="counter-number" id="glitterIncluido">0</span>
                    <span class="counter-label">Glitter incluido</span>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #28a745, #20c997); border-radius: 15px; padding: 20px; margin: 20px 0; text-align: center; color: white; font-size: 1.1em;" id="inclusionsInfo" class="fade-in">
                <div style="font-weight: bold; margin-bottom: 10px;">üéÅ ¬°INCLUIDO EN TU PEDIDO SIN COSTO EXTRA!</div>
                <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 15px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 1.5em;">üß™</span>
                        <span><strong id="pegasText">0 pegas</strong> m√°gicas</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 1.5em;">‚ú®</span>
                        <span><strong id="glitterText">0 glitter</strong> de colores</span>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">üì¶ Informaci√≥n Comercial</h2>
                <div class="shipping-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label"><span style="font-family: 'Arial Black', Arial, sans-serif; font-weight: 900;">üè¢ Nombre del negocio</span></label>
                            <input type="text" class="form-input" id="nombreNegocio" placeholder="Ingresa el nombre de tu negocio" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><span style="font-family: 'Arial Black', Arial, sans-serif; font-weight: 900;">ü§© Contacto principal</span></label>
                            <input type="text" class="form-input" id="nombreContacto" placeholder="Nombre de la persona de contacto" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label"><span style="font-family: 'Arial Black', Arial, sans-serif; font-weight: 900;">‚òéÔ∏è Tel√©fono</span></label>
                            <input type="tel" class="form-input" id="telefono" placeholder="Ej: 3001234567" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><span style="font-family: 'Arial Black', Arial, sans-serif; font-weight: 900;">üìß Email</span></label>
                            <input type="email" class="form-input" id="email" placeholder="correo@empresa.com" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="form-label">
                                <span style="font-family: 'Arial Black', Arial, sans-serif; font-weight: 900;">üì™ Direcci√≥n de env√≠o</span>
                                <span style="font-family: Arial, sans-serif; font-weight: normal;"> (con barrio y detalles)</span>
                            </label>
                            <input type="text" class="form-input" id="direccion" placeholder="Ej: Calle 123 #45-67, Barrio Centro" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <span style="font-family: 'Arial Black', Arial, sans-serif; font-weight: 900;">üè¢ Unidad o Edificio</span>
                                <span style="font-family: Arial, sans-serif; font-weight: normal;"> (opcional)</span>
                            </label>
                            <input type="text" class="form-input" id="unidad" placeholder="Ej: Torre A, Local 501">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><span style="font-family: 'Arial Black', Arial, sans-serif; font-weight: 900;">üåá Ciudad</span></label>
                            <input type="text" class="form-input" id="ciudad" placeholder="Ej: Medell√≠n" required>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pricing-summary" id="pricingSummary" style="display: none;">
                <h3 style="color: #E50695; text-align: center; margin-bottom: 20px;">üí∞ COTIZACI√ìN DE TU PEDIDO</h3>
                <div class="pricing-row">
                    <span class="pricing-label">Cantidad de tatuajes:</span>
                    <span class="pricing-value" id="summaryQuantity">0</span>
                </div>
                <div class="pricing-row">
                    <span class="pricing-label">Precio por unidad:</span>
                    <span class="pricing-value" id="summaryUnitPrice">$0</span>
                </div>
                <div class="pricing-row">
                    <span class="pricing-label">Subtotal tatuajes:</span>
                    <span class="pricing-value" id="summarySubtotal">$0</span>
                </div>
                <div class="pricing-row">
                    <span class="pricing-label">Env√≠o:</span>
                    <span class="pricing-value">$20.000</span>
                </div>
                <div class="pricing-row">
                    <span class="pricing-label">TOTAL:</span>
                    <span class="pricing-value" id="summaryTotal">$0</span>
                </div>
            </div>

            <div style="background: white; color: black; padding: 25px; border-radius: 15px; margin: 30px 0; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2); border: 3px solid #E50695;" id="finalPriceBox" style="display: none;">
                <h3 style="color: #E50695; margin-bottom: 15px;">üíµ PRECIOS AL POR MAYOR</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 15px 0;">
                    <div style="font-size: 1.1em; margin-bottom: 8px;">
                        üîπ <strong>100 a 200 unidades:</strong> <span style="color: #E50695;">$3.400 c/u</span>
                    </div>
                    <div style="font-size: 1.1em;">
                        üîπ <strong>M√°s de 201 unidades:</strong> <span style="color: #E50695;">$3.000 c/u</span>
                    </div>
                </div>
                <div style="border-top: 2px solid #E50695; padding-top: 15px; margin-top: 20px;">
                    <div style="font-size: 1.2em; margin-bottom: 10px; color: #333;">
                        üíµ <strong>Tu precio por unidad:</strong> <span id="finalUnitPrice" style="color: #E50695; font-size: 1.3em;">$0</span>
                    </div>
                    <div style="font-size: 1.8em; font-weight: bold; color: #E50695;">
                        üí∞ <strong>TOTAL A PAGAR:</strong><br>
                        <span id="finalTotalPrice" style="font-size: 2.2em; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">$0</span>
                    </div>
                    <div style="font-size: 0.9em; color: #666; margin-top: 10px;">
                        (Incluye domicilio + pegas + glitter)
                    </div>
                </div>
            </div>

            <div class="payment-section">
                <div class="payment-info">
                    <h3>üí≥ Informaci√≥n de Pago</h3>
                    <div class="payment-details">
                        üìç Realiza tu pago a Bancolombia:<br>
                        üí∞ Ahorros: 019-512646-91<br>
                        üë§ Olga Luc√≠a Arango<br><br>
                        üí¨ Confirma tu pedido y pago por WhatsApp
                    </div>
                </div>
                <div class="qr-container">
                    <img src="motivos/QR_KITS.png" alt="QR de Pago" class="qr-image">
                </div>
            </div>

            <button class="whatsapp-btn" id="whatsappBtn" onclick="enviarWhatsApp()" disabled>
                üì± Enviar Cotizaci√≥n por WhatsApp
            </button>
        </div>
    </div>

    <!-- WIDGET FLOTANTE RESUMEN EJECUTIVO COMPACTO -->
    <div class="floating-profit-widget" id="profitWidget">
        <div class="profit-widget-header">
            <div class="profit-widget-title">
                üí∞ Resumen de ganancias
            </div>
            <button class="profit-widget-toggle" onclick="toggleProfitWidget()" title="Minimizar">
                ‚îÄ
            </button>
        </div>
        <div id="profitWidgetContent">
            <div class="profit-row">
                <span>Cantidad de tatuajes:</span>
                <span class="profit-value" id="widgetQuantity">0</span>
            </div>
            <div class="profit-row">
                <span>Costo unitario:</span>
                <span class="profit-value" id="widgetUnitCost">$0</span>
            </div>
            <div class="profit-row">
                <span>Inversi√≥n total:</span>
                <span class="profit-value" id="widgetTotalCost">$0</span>
            </div>
            <div class="profit-row highlight">
                <span>üíé Ganancia:</span>
                <span class="profit-value big" id="widgetProfitMargin">$0</span>
            </div>
            <div class="profit-suggestions" id="widgetSuggestions">
                <div>üí° <strong>Precio de venta sugerido:</strong> <span id="suggestedPrice">$0</span> c/u</div>
                <div class="profit-tip" id="profitTip">
                    Selecciona tatuajes para ver tu an√°lisis de rentabilidad
                </div>
            </div>
        </div>
    </div>

    <script>
        const motivos = [
            '√Åguila', 'Ara√±a', 'Arco√≠ris', 'Barbie', 'Batman', 'Beso', 
            'Caballo', 'Carita feliz', 'Coraz√≥n Karol G', 'Delf√≠n', 
            'Dinosaurio', 'Drag√≥n', 'Elefante', 'Flash', 'Gato', 
            'Hongo', 'Huella', 'Le√≥n', 'Mario', 'Mariposa', 
            'Medell√≠n', 'Nacional', 'Notas musicales', 'Pirata', 
            'Planeta', 'Pluma', 'Pony', 'Sirenita', 'Sonic', 'Unicornio'
        ];

        const colores = [
            {name: 'Azul oscuro', emoji: 'üíô'},
            {name: 'Azul claro', emoji: 'ü©µ'},
            {name: 'Dorado', emoji: 'üíõ'},
            {name: 'Rojo', emoji: '‚ù§Ô∏è'},
            {name: 'Verde', emoji: 'üíö'},
            {name: 'Fucsia', emoji: 'ü©∑'},
            {name: 'Morado', emoji: 'üíú'},
            {name: 'Rosado', emoji: 'üíó'},
            {name: 'Caf√©', emoji: 'ü§é'},
            {name: 'Negro', emoji: 'üñ§'},
            {name: 'Multicolor', emoji: 'üåà'}
        ];

        // Mapeo de im√°genes de los motivos
        const motivoImages = {
            '√Åguila': 'motivos/K_Aguila.png',
            'Ara√±a': 'motivos/K_Arana.png',
            'Arco√≠ris': 'motivos/K_Arcoiris.png',
            'Barbie': 'motivos/K_Barbie.png',
            'Batman': 'motivos/K_Batman.png',
            'Beso': 'motivos/K_Beso.png',
            'Caballo': 'motivos/K_Caballo.png',
            'Carita feliz': 'motivos/K_Carita_feliz.png',
            'Coraz√≥n Karol G': 'motivos/K_Crazon_CG.png',
            'Delf√≠n': 'motivos/K_Delfin.png',
            'Dinosaurio': 'motivos/K_Dinosaurio.png',
            'Drag√≥n': 'motivos/K_Dragon.png',
            'Elefante': 'motivos/K_Elefante.png',
            'Flash': 'motivos/K_Flash.png',
            'Gato': 'motivos/K_Gato.png',
            'Hongo': 'motivos/K_Hongo.png',
            'Huella': 'motivos/K_Huella.png',
            'Le√≥n': 'motivos/K_Leon.png',
            'Mario': 'motivos/K_Mario.png',
            'Mariposa': 'motivos/K_Mariposa.png',
            'Medell√≠n': 'motivos/K_Medellin.png',
            'Nacional': 'motivos/K_Nacional.png',
            'Notas musicales': 'motivos/K_Notas.png',
            'Pirata': 'motivos/K_Calavera.png',
            'Planeta': 'motivos/K_Paneta.png',
            'Pluma': 'motivos/K_Pluma.png',
            'Pony': 'motivos/K_Pony.png',
            'Sirenita': 'motivos/K_Sirena.png',
            'Sonic': 'motivos/K_Sonic.png',
            'Unicornio': 'motivos/K_Unicornio.png'
        };

        let selectedMotivos = {};
        let selectedColores = [];
        let allColorsSelected = false;
        let currentStep = 1;
        let isWidgetMinimized = false;
        const MIN_TATUAJES = 100;
        const PRECIO_TIER1 = 3400; // 100-200 unidades
        const PRECIO_TIER2 = 3000; // 201+ unidades
        const DOMICILIO = 20000;
        
        // CONFIGURACI√ìN DEL RESUMEN EJECUTIVO
        const PROFIT_CONFIG = {
            // Precios de venta sugeridos por tier
            suggestedPrices: {
                tier1: 10000, // Para compras a $3400
                tier2: 10000  // Para compras a $3000
            }
        };

        function handleImageError(img) {
            img.style.display = 'none';
            const placeholder = document.createElement('div');
            placeholder.style.cssText = `
                width: 90px; 
                height: 90px; 
                display: flex; 
                align-items: center; 
                justify-content: center; 
                font-size: 48px; 
                background: rgba(255,255,255,0.1); 
                border-radius: 8px;
                color: white;
                transition: all 0.3s ease;
                filter: drop-shadow(0 2px 8px rgba(0,0,0,0.2));
            `;
            placeholder.textContent = getEmojiForMotivo(img.alt);
            img.parentNode.appendChild(placeholder);
        }

        function getEmojiForMotivo(motivo) {
            const emojis = {
                '√Åguila': 'ü¶Ö', 'Ara√±a': 'üï∑Ô∏è', 'Arco√≠ris': 'üåà', 'Barbie': 'üíÑ', 'Batman': 'ü¶á',
                'Beso': 'üíã', 'Caballo': 'üêé', 'Carita feliz': 'üòä', 'Coraz√≥n Karol G': 'üíñ',
                'Delf√≠n': 'üê¨', 'Dinosaurio': 'ü¶ï', 'Drag√≥n': 'üê≤', 'Elefante': 'üêò',
                'Flash': '‚ö°', 'Gato': 'üê±', 'Hongo': 'üçÑ', 'Huella': 'üêæ', 'Le√≥n': 'ü¶Å',
                'Mario': 'üéÆ', 'Mariposa': 'ü¶ã', 'Medell√≠n': 'üèôÔ∏è', 'Nacional': '‚öΩ',
                'Notas musicales': 'üéµ', 'Pirata': '‚ò†Ô∏è', 'Planeta': 'ü™ê', 'Pluma': 'ü™∂',
                'Pony': 'ü¶Ñ', 'Sirenita': 'üßú‚Äç‚ôÄÔ∏è', 'Sonic': 'üí®', 'Unicornio': 'ü¶Ñ'
            };
            return emojis[motivo] || 'üé®';
        }

        function updateProgressBar(step) {
            currentStep = step;
            
            for (let i = 1; i <= 4; i++) {
                const circle = document.getElementById(`step${i}`);
                const line = document.getElementById(`line${i}`);
                
                if (i < step) {
                    circle.className = 'step-circle completed';
                    if (line) line.className = 'step-line active';
                } else if (i === step) {
                    circle.className = 'step-circle active';
                } else {
                    circle.className = 'step-circle';
                    if (line) line.className = 'step-line';
                }
            }
        }

        function animateCounter(elementId, newValue) {
            const element = document.getElementById(elementId);
            element.classList.add('animate');
            element.textContent = newValue;
            
            setTimeout(() => {
                element.classList.remove('animate');
            }, 500);
        }

        function initializeApp() {
            createMotivosGrid();
            createColoresGrid();
            updateCounters();
            updateWhatsAppButton();
        }

        function createMotivosGrid() {
            const grid = document.getElementById('motivosGrid');
            grid.innerHTML = '';
            
            motivos.forEach(motivo => {
                const item = document.createElement('div');
                item.className = 'motivo-item';
                
                const imageUrl = motivoImages[motivo];
                
                item.innerHTML = `
                    <div class="motivo-image-container" onclick="increaseQuantity('${motivo}')">
                        <img src="${imageUrl}" alt="${motivo}" class="motivo-image" 
                             onerror="handleImageError(this)">
                    </div>
                    <div class="motivo-content">
                        <div class="motivo-name">${motivo}</div>
                        <div class="quantity-controls">
                            <button class="btn-quantity" onclick="decreaseQuantity('${motivo}')">‚àí</button>
                            <input type="number" class="quantity-input" id="qty-input-${motivo}" 
                                   value="0" min="0" max="9999" 
                                   onchange="updateQuantityFromInput('${motivo}')"
                                   onkeypress="handleEnterKey(event, '${motivo}')">
                            <button class="btn-quantity" onclick="increaseQuantity('${motivo}')">+</button>
                        </div>
                    </div>
                `;
                grid.appendChild(item);
                selectedMotivos[motivo] = 0;
            });
        }

        function createColoresGrid() {
            const grid = document.getElementById('coloresGrid');
            grid.innerHTML = '';
            
            // Bot√≥n "Todos los colores"
            const allColorsItem = document.createElement('div');
            allColorsItem.className = 'color-item all-colors-btn';
            allColorsItem.id = 'all-colors';
            allColorsItem.innerHTML = `
                <div class="color-emoji">üåà</div>
                <div>Todos los colores</div>
            `;
            allColorsItem.onclick = () => toggleAllColors();
            grid.appendChild(allColorsItem);
            
            colores.forEach((color, index) => {
                const item = document.createElement('div');
                item.className = 'color-item';
                item.id = `color-${index}`;
                item.innerHTML = `
                    <div class="color-emoji">${color.emoji}</div>
                    <div>${color.name}</div>
                `;
                item.onclick = () => toggleColor(index);
                grid.appendChild(item);
            });
        }

        function increaseQuantity(motivo) {
            selectedMotivos[motivo]++;
            const input = document.getElementById(`qty-input-${motivo}`);
            const item = input.closest('.motivo-item');
            
            input.value = selectedMotivos[motivo];
            input.classList.add('animate');
            setTimeout(() => input.classList.remove('animate'), 400);
            
            // Marcar item como seleccionado
            if (selectedMotivos[motivo] > 0) {
                item.classList.add('selected');
                // Marcar la imagen como seleccionada para evitar la m√°scara blanca
                const img = item.querySelector('.motivo-image');
                img.classList.add('selected');
            }
            
            updateCounters();
            updatePricingSummary();
            updateWhatsAppButton();
            clearAlerts();
            
            const totalTatuajes = getTotalTatuajes();
            if (totalTatuajes === 201) {
                showAlert('üéâ ¬°Excelente! Has alcanzado m√°s de 200 tatuajes. Precio reducido a $3.000 por unidad', 'success');
            }
        }

        function decreaseQuantity(motivo) {
            if (selectedMotivos[motivo] > 0) {
                selectedMotivos[motivo]--;
                const input = document.getElementById(`qty-input-${motivo}`);
                const item = input.closest('.motivo-item');
                
                input.value = selectedMotivos[motivo];
                input.classList.add('animate');
                setTimeout(() => input.classList.remove('animate'), 400);
                
                // Remover selecci√≥n si lleg√≥ a 0
                if (selectedMotivos[motivo] === 0) {
                    item.classList.remove('selected');
                    // Remover clase selected de la imagen para que vuelva la m√°scara blanca en hover
                    const img = item.querySelector('.motivo-image');
                    img.classList.remove('selected');
                }
                
                updateCounters();
                updatePricingSummary();
                updateWhatsAppButton();
                clearAlerts();
            }
        }

        function updateQuantityFromInput(motivo) {
            const input = document.getElementById(`qty-input-${motivo}`);
            const item = input.closest('.motivo-item');
            let value = parseInt(input.value) || 0;
            
            // Validar l√≠mites
            if (value < 0) value = 0;
            if (value > 9999) value = 9999;
            
            const oldValue = selectedMotivos[motivo];
            selectedMotivos[motivo] = value;
            input.value = value;
            
            // Actualizar estado visual
            if (value > 0 && oldValue === 0) {
                item.classList.add('selected');
                const img = item.querySelector('.motivo-image');
                img.classList.add('selected');
            } else if (value === 0 && oldValue > 0) {
                item.classList.remove('selected');
                const img = item.querySelector('.motivo-image');
                img.classList.remove('selected');
            }
            
            input.classList.add('animate');
            setTimeout(() => input.classList.remove('animate'), 400);
            
            updateCounters();
            updatePricingSummary();
            updateWhatsAppButton();
            clearAlerts();
            
            const totalTatuajes = getTotalTatuajes();
            if (totalTatuajes === 201) {
                showAlert('üéâ ¬°Excelente! Has alcanzado m√°s de 200 tatuajes. Precio reducido a $3.000 por unidad', 'success');
            }
        }

        function handleEnterKey(event, motivo) {
            if (event.key === 'Enter') {
                event.preventDefault();
                updateQuantityFromInput(motivo);
                event.target.blur();
            }
        }

        function toggleAllColors() {
            const allColorsItem = document.getElementById('all-colors');
            
            if (!allColorsSelected) {
                // Seleccionar todos los colores
                allColorsSelected = true;
                selectedColores = [];
                allColorsItem.classList.add('selected');
                
                // Deseleccionar colores individuales visualmente
                colores.forEach((_, index) => {
                    const colorItem = document.getElementById(`color-${index}`);
                    colorItem.classList.remove('selected');
                });
                
                showAlert('‚úÖ Has seleccionado todos los colores de glitter disponibles', 'success');
            } else {
                // Deseleccionar todos los colores
                allColorsSelected = false;
                allColorsItem.classList.remove('selected');
                clearAlerts();
            }
            
            updateWhatsAppButton();
        }

        function toggleColor(index) {
            if (allColorsSelected) {
                // Si "todos los colores" est√° seleccionado, deseleccionarlo primero
                allColorsSelected = false;
                document.getElementById('all-colors').classList.remove('selected');
            }
            
            const colorItem = document.getElementById(`color-${index}`);
            const colorIndex = selectedColores.indexOf(index);
            
            if (colorIndex === -1) {
                selectedColores.push(index);
                colorItem.classList.add('selected');
            } else {
                selectedColores.splice(colorIndex, 1);
                colorItem.classList.remove('selected');
            }
            
            updateWhatsAppButton();
        }

        function getTotalTatuajes() {
            return Object.values(selectedMotivos).reduce((sum, qty) => sum + qty, 0);
        }

        function getPegasIncluidas() {
            const totalTatuajes = getTotalTatuajes();
            
            if (totalTatuajes <= 200) {
                return Math.floor(totalTatuajes / 100) * 3;
            } else {
                const pegasBase = Math.floor(200 / 100) * 3;
                const tatuajesExtras = totalTatuajes - 200;
                const pegasExtras = Math.floor(tatuajesExtras / 33);
                return pegasBase + pegasExtras;
            }
        }

        function getGlitterIncluded() {
            const totalTatuajes = getTotalTatuajes();
            
            if (totalTatuajes <= 200) {
                return Math.floor(totalTatuajes / 100) * 12;
            } else {
                const glitterBase = Math.floor(200 / 100) * 12;
                const tatuajesExtras = totalTatuajes - 200;
                const glitterExtras = Math.floor(tatuajesExtras / 33) * 6;
                return glitterBase + glitterExtras;
            }
        }

        function getPrecioUnitario() {
            const totalTatuajes = getTotalTatuajes();
            return totalTatuajes >= 201 ? PRECIO_TIER2 : PRECIO_TIER1;
        }

        function updateCounters() {
            const totalTatuajes = getTotalTatuajes();
            const glitterIncluido = getGlitterIncluded();
            const pegasIncluidas = getPegasIncluidas();
            
            animateCounter('totalTatuajes', totalTatuajes);
            animateCounter('glitterIncluido', glitterIncluido);
            animateCounter('pegasIncluidas', pegasIncluidas);
            
            // Actualizar tambi√©n la secci√≥n informativa
            document.getElementById('pegasText').textContent = `${pegasIncluidas} pegas`;
            document.getElementById('glitterText').textContent = `${glitterIncluido} glitter`;
            
            // Mostrar/ocultar la secci√≥n informativa
            const inclusionsInfo = document.getElementById('inclusionsInfo');
            if (totalTatuajes >= MIN_TATUAJES) {
                inclusionsInfo.style.display = 'block';
            } else {
                inclusionsInfo.style.display = 'none';
            }
            
            // Actualizar widget de resumen ejecutivo
            updateProfitWidget();
        }

        // FUNCIONES DEL WIDGET DE RESUMEN EJECUTIVO
        function updateProfitWidget() {
            const totalTatuajes = getTotalTatuajes();
            const widget = document.getElementById('profitWidget');
            
            if (totalTatuajes >= MIN_TATUAJES) {
                const precioUnitario = getPrecioUnitario();
                const inversionTotal = (totalTatuajes * precioUnitario) + DOMICILIO;
                const precioVentaSugerido = totalTatuajes >= 201 ? 
                    PROFIT_CONFIG.suggestedPrices.tier2 : 
                    PROFIT_CONFIG.suggestedPrices.tier1;
                const margenPorTatuaje = precioVentaSugerido - precioUnitario;
                const margenTotal = margenPorTatuaje * totalTatuajes;
                
                // Actualizar valores en el widget
                updateProfitValue('widgetQuantity', totalTatuajes.toLocaleString());
                updateProfitValue('widgetUnitCost', `${precioUnitario.toLocaleString()}`);
                updateProfitValue('widgetTotalCost', `${inversionTotal.toLocaleString()}`);
                updateProfitValue('widgetProfitMargin', `${margenTotal.toLocaleString()}`);
                document.getElementById('suggestedPrice').textContent = `${precioVentaSugerido.toLocaleString()}`;
                
                // Actualizar tip
                const roi = ((margenTotal / inversionTotal) * 100).toFixed(0);
                document.getElementById('profitTip').innerHTML = 
                    `üöÄ <strong>Retorno de la Inversi√≥n: ${roi}%</strong> - Ganancia de ${margenPorTatuaje.toLocaleString()} por tatuaje`;
                
                // Mostrar widget con animaci√≥n
                widget.classList.add('show');
                widget.classList.add('profit-updated');
                setTimeout(() => widget.classList.remove('profit-updated'), 1000);
                
            } else {
                // Ocultar widget si no hay suficientes tatuajes
                widget.classList.remove('show');
            }
        }

        function updateProfitValue(elementId, newValue) {
            const element = document.getElementById(elementId);
            if (element.textContent !== newValue) {
                element.textContent = newValue;
                element.classList.add('animate');
                setTimeout(() => element.classList.remove('animate'), 600);
            }
        }

        function toggleProfitWidget() {
            const widget = document.getElementById('profitWidget');
            const content = document.getElementById('profitWidgetContent');
            const toggle = document.querySelector('.profit-widget-toggle');
            
            if (isWidgetMinimized) {
                // Expandir
                content.style.display = 'block';
                toggle.textContent = '‚îÄ';
                toggle.title = 'Minimizar';
                isWidgetMinimized = false;
            } else {
                // Minimizar
                content.style.display = 'none';
                toggle.textContent = '+';
                toggle.title = 'Expandir';
                isWidgetMinimized = true;
            }
        }

        function updatePricingSummary() {
            const totalTatuajes = getTotalTatuajes();
            
            if (totalTatuajes >= MIN_TATUAJES) {
                const precioUnitario = getPrecioUnitario();
                const subtotal = totalTatuajes * precioUnitario;
                const total = subtotal + DOMICILIO;
                
                // Actualizar elementos del resumen de cotizaci√≥n
                const summaryQuantity = document.getElementById('summaryQuantity');
                const summaryUnitPrice = document.getElementById('summaryUnitPrice');
                const summarySubtotal = document.getElementById('summarySubtotal');
                const summaryTotal = document.getElementById('summaryTotal');
                
                if (summaryQuantity) summaryQuantity.textContent = totalTatuajes.toLocaleString();
                if (summaryUnitPrice) summaryUnitPrice.textContent = `${precioUnitario.toLocaleString()}`;
                if (summarySubtotal) summarySubtotal.textContent = `${subtotal.toLocaleString()}`;
                if (summaryTotal) summaryTotal.textContent = `${total.toLocaleString()}`;
                
                // Actualizar elementos de la caja de precio final
                const finalTotalPrice = document.getElementById('finalTotalPrice');
                const finalUnitPrice = document.getElementById('finalUnitPrice');
                if (finalTotalPrice) {
                    finalTotalPrice.textContent = `${total.toLocaleString()}`;
                }
                if (finalUnitPrice) {
                    finalUnitPrice.textContent = `${precioUnitario.toLocaleString()}`;
                }
                
                // Mostrar ambas secciones
                document.getElementById('pricingSummary').style.display = 'block';
                document.getElementById('finalPriceBox').style.display = 'block';
            } else {
                // Ocultar ambas secciones
                document.getElementById('pricingSummary').style.display = 'none';
                document.getElementById('finalPriceBox').style.display = 'none';
            }
        }

        function updateWhatsAppButton() {
            const btn = document.getElementById('whatsappBtn');
            const hasTatuajes = getTotalTatuajes() >= MIN_TATUAJES;
            const hasColores = selectedColores.length > 0 || allColorsSelected;
            const hasRequiredFields = validateRequiredFields();
            
            btn.disabled = !hasTatuajes || !hasColores || !hasRequiredFields;
            
            // Solo mostrar alerta si hay tatuajes pero menos del m√≠nimo
            const totalTatuajes = getTotalTatuajes();
            if (totalTatuajes > 0 && totalTatuajes < MIN_TATUAJES) {
                showMinimumNotice();
            } else if (totalTatuajes >= MIN_TATUAJES) {
                clearMinimumNotice();
            }
        }

        function showMinimumNotice() {
            const totalTatuajes = getTotalTatuajes();
            if (totalTatuajes > 0 && totalTatuajes < MIN_TATUAJES) {
                const remaining = MIN_TATUAJES - totalTatuajes;
                showAlert(`‚ö†Ô∏è Necesitas ${remaining} tatuajes m√°s para alcanzar el pedido m√≠nimo de 100 unidades`, 'warning');
            }
        }

        function clearMinimumNotice() {
            const alerts = document.getElementById('alerts');
            if (alerts.innerHTML.includes('pedido m√≠nimo')) {
                clearAlerts();
            }
        }

        function validateRequiredFields() {
            const nombreNegocio = document.getElementById('nombreNegocio').value.trim();
            const nombreContacto = document.getElementById('nombreContacto').value.trim();
            const telefono = document.getElementById('telefono').value.trim();
            const email = document.getElementById('email').value.trim();
            const direccion = document.getElementById('direccion').value.trim();
            const ciudad = document.getElementById('ciudad').value.trim();
            
            return nombreNegocio && nombreContacto && telefono && email && direccion && ciudad;
        }

        function showAlert(message, type) {
            const alertsContainer = document.getElementById('alerts');
            alertsContainer.innerHTML = `<div class="alert alert-${type}">${message}</div>`;
        }

        function clearAlerts() {
            document.getElementById('alerts').innerHTML = '';
        }

        function enviarWhatsApp() {
            const totalTatuajes = getTotalTatuajes();
            
            if (totalTatuajes < MIN_TATUAJES) {
                showAlert(`‚ùå Debes seleccionar al menos ${MIN_TATUAJES} tatuajes para procesar el pedido`, 'danger');
                return;
            }
            
            if (!selectedColores.length && !allColorsSelected) {
                showAlert('‚ùå Debes seleccionar al menos un color o "Todos los colores"', 'danger');
                return;
            }

            if (!validateRequiredFields()) {
                showAlert('‚ùå Por favor completa todos los campos obligatorios', 'danger');
                return;
            }

            // Obtener datos del formulario
            const nombreNegocio = document.getElementById('nombreNegocio').value.trim();
            const nombreContacto = document.getElementById('nombreContacto').value.trim();
            const telefono = document.getElementById('telefono').value.trim();
            const email = document.getElementById('email').value.trim();
            const direccion = document.getElementById('direccion').value.trim();
            const unidad = document.getElementById('unidad').value.trim();
            const ciudad = document.getElementById('ciudad').value.trim();

            const precioUnitario = getPrecioUnitario();
            const subtotal = totalTatuajes * precioUnitario;
            const total = subtotal + DOMICILIO;
            const glitterIncluido = getGlitterIncluded();
            const pegasIncluidas = getPegasIncluidas();

            let mensaje = "üè¢ *COTIZACI√ìN TATUAJES AL POR MAYOR* üè¢\n\n";
            
            mensaje += "üìã *INFORMACI√ìN COMERCIAL:*\n";
            mensaje += `üè¢ *Negocio:* ${nombreNegocio}\n`;
            mensaje += `ü§© *Contacto:* ${nombreContacto}\n`;
            mensaje += `‚òéÔ∏è *Tel√©fono:* ${telefono}\n`;
            mensaje += `üìß *Email:* ${email}\n\n`;
            
            mensaje += "üé® *MOTIVOS SELECCIONADOS:*\n";
            Object.keys(selectedMotivos).forEach(motivo => {
                if (selectedMotivos[motivo] > 0) {
                    mensaje += `‚Ä¢ ${motivo}: ${selectedMotivos[motivo]} unidades\n`;
                }
            });
            
            mensaje += `\nüìä *Total tatuajes:* ${totalTatuajes.toLocaleString()} unidades\n\n`;
            
            mensaje += "üåà *COLORES DE GLITTER:*\n";
            if (allColorsSelected) {
                mensaje += "üåà Todos los colores disponibles\n";
            } else {
                selectedColores.forEach(index => {
                    mensaje += `${colores[index].emoji} ${colores[index].name}\n`;
                });
            }
            
            mensaje += `\nüé® *Incluido en tu pedido:*\n`;
            if (totalTatuajes <= 200) {
                mensaje += `‚Ä¢ ${pegasIncluidas} pegas m√°gicas (3 por cada 100 tatuajes)\n`;
                mensaje += `‚Ä¢ ${glitterIncluido} glitter (12 por cada 100 tatuajes)\n\n`;
            } else {
                const pegasBase = Math.floor(200 / 100) * 3;
                const pegasExtras = pegasIncluidas - pegasBase;
                const glitterBase = Math.floor(200 / 100) * 12;
                const glitterExtras = glitterIncluido - glitterBase;
                
                mensaje += `‚Ä¢ ${pegasIncluidas} pegas m√°gicas (${pegasBase} base + ${pegasExtras} adicionales)\n`;
                mensaje += `‚Ä¢ ${glitterIncluido} glitter (${glitterBase} base + ${glitterExtras} adicionales)\n`;
                mensaje += `  üìã *Detalle:* 3 pegas + 12 glitter x cada 100, luego +1 pega + 6 glitter x cada 33\n\n`;
            }
            
            mensaje += "üí∞ *COTIZACI√ìN:*\n";
            mensaje += `üíµ *Precio unitario:* ${precioUnitario.toLocaleString()}\n`;
            mensaje += `üìä *Subtotal:* ${subtotal.toLocaleString()}\n`;
            mensaje += `üöö *Env√≠o:* ${DOMICILIO.toLocaleString()}\n`;
            mensaje += `üíé *TOTAL:* ${total.toLocaleString()}\n\n`;
            
            mensaje += "üì¶ *DIRECCI√ìN DE ENV√çO:*\n";
            mensaje += `üì™ *Direcci√≥n:* ${direccion}\n`;
            if (unidad) {
                mensaje += `üè¢ *Unidad/Local:* ${unidad}\n`;
            }
            mensaje += `üåá *Ciudad:* ${ciudad}\n\n`;
            
            mensaje += "¬°Gracias por tu inter√©s en nuestros productos! üé®‚ú®";

            const numeroWhatsApp = "573052661533";
            const url = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(mensaje)}`;
            
            window.open(url, '_blank');
            
            showAlert('‚úÖ ¬°Cotizaci√≥n enviada por WhatsApp! Te contactaremos pronto üéâ', 'success');
        }

        // Event listeners para validar formulario en tiempo real
        document.addEventListener('DOMContentLoaded', function() {
            const formInputs = ['nombreNegocio', 'nombreContacto', 'telefono', 'email', 'direccion', 'ciudad'];
            formInputs.forEach(id => {
                const input = document.getElementById(id);
                input.addEventListener('input', function() {
                    updateWhatsAppButton();
                    
                    if (validateRequiredFields() && getTotalTatuajes() >= MIN_TATUAJES && (selectedColores.length > 0 || allColorsSelected)) {
                        updateProgressBar(4);
                        setTimeout(() => {
                            updatePricingSummary();
                        }, 100);
                        setTimeout(() => {
                            showAlert('‚úÖ ¬°Todo listo! Revisa tu cotizaci√≥n y confirma por WhatsApp ‚¨áÔ∏è', 'success');
                        }, 300);
                    }
                });
            });
        });

        // Inicializar la aplicaci√≥n
        initializeApp();
        
        // Forzar actualizaci√≥n del resumen al cargar
        setTimeout(() => {
            updatePricingSummary();
        }, 500);
    </script>
</body>
</html>
